SET check_function_bodies = false;
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('48794fc2-7a2f-43f6-a86d-74a838977969', 'discord_webhook', 'Discord Webhook', 'Envoyer des messages Discord via webhook (sans connexion)', 'https://discord.com/assets/favicon.ico', 'none', 'https://discord.com/api/webhooks', true, '{}', '2025-12-03 15:15:53.693141+00', '2025-12-03 15:15:53.693141+00', NULL);
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('4a2ea9ec-3495-4e3c-ae67-01e0a486f3d1', 'open_meteo', 'Open-Meteo', 'Acc√®s public √† l''API Open-Meteo (pas d''authentification requise)', 'https://open-meteo.com/favicon.ico', 'none', 'https://api.open-meteo.com', true, '{}', '2026-01-12 21:06:36.014876+00', '2026-01-12 21:06:36.014876+00', NULL);
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('12d701a1-6b1f-4e2f-b253-ae9dd601f524', 'slack', 'Slack', 'Service d''authentification Slack', 'https://www.slack.com/favicon.ico', 'none', 'https://slack.com/api', true, '{}', '2026-01-14 13:29:21.466492+00', '2026-01-14 13:29:21.466492+00', NULL);
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('3efd83de-6bb9-40e7-9ab6-5487641b33bf', 'teams', 'Teams', 'Service d''authentification Teams', 'https://www.teams.com/favicon.ico', 'none', 'https://teams.com/api', true, '{}', '2026-01-14 15:05:15.234052+00', '2026-01-14 15:05:15.234052+00', NULL);
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('716ee549-1fc7-4505-8b6c-3e8f5a2c09f5', 'pipedream', 'PipeDream', 'Service d''int√©gration avec PipeDream', 'https://www.pipedream.com/favicon.ico', 'none', 'https://pipedream.com/api', true, '{}', '2026-01-14 16:13:29.038079+00', '2026-01-14 16:13:29.038079+00', NULL);
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('7617925b-3936-4ea8-9b40-a3ecea6100b0', 'github', 'GitHub', 'Service d''authentification GitHub', 'https://github.com/favicon.ico', 'oauth2', 'https://api.github.com', true, '{"oauth": {"scopes": ["user:email", "read:user"], "token_url": "https://github.com/login/oauth/access_token", "authorization_url": "https://github.com/login/oauth/authorize"}}', '2025-12-02 18:13:26.339582+00', '2026-01-16 17:22:51.305474+00', 'http://localhost:8080/auth/github/callback');
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('6362befd-c38e-4946-88bf-ce997ed3110e', 'google', 'Google & Gmail', 'Service d''authentification Google et acc√®s Gmail', 'https://www.google.com/favicon.ico', 'oauth2', 'https://www.googleapis.com', true, '{"oauth": {"scopes": ["email", "profile", "https://www.googleapis.com/auth/gmail.modify"], "token_url": "https://oauth2.googleapis.com/token", "authorization_url": "https://accounts.google.com/o/oauth2/v2/auth"}}', '2025-12-02 18:13:26.339582+00', '2026-01-16 17:23:15.829522+00', 'http://localhost:8080/auth/google/callback');
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('73f16769-c324-42f3-bd2b-5abf6d4b16d3', 'microsoft', 'Microsoft', 'Service d''authentification Microsoft / Outlook', 'https://www.microsoft.com/favicon.ico', 'oauth2', 'https://graph.microsoft.com', true, '{"oauth": {"scopes": ["openid", "profile", "email", "offline_access", "Mail.Read", "Mail.Send"], "token_url": "https://login.microsoftonline.com/common/oauth2/v2.0/token", "authorization_url": "https://login.microsoftonline.com/common/oauth2/v2.0/authorize"}}', '2026-01-12 18:45:18.49191+00', '2026-01-16 17:23:32.388769+00', 'http://localhost:8080/auth/microsoft/callback');
INSERT INTO public.services (id, name, display_name, description, icon_url, auth_type, base_url, is_active, config, created_at, updated_at, oauth_url) VALUES ('8b62dd1a-0fc9-4b42-8ea6-81be7813b8eb', 'discord', 'Discord', 'Service d''authentification Discord', 'https://www.discord.com/favicon.ico', 'oauth2', 'https://discord.com/api', true, '{"oauth": {"scopes": ["identify", "email", "guilds", "messages.read"], "token_url": "https://discord.com/api/oauth2/token", "authorization_url": "https://discord.com/api/oauth2/authorize"}}', '2026-01-13 21:25:09.875933+00', '2026-01-16 17:23:55.17624+00', 'http://localhost:8080/auth/discord/callback');
INSERT INTO public.actions (id, service_id, name, display_name, description, event_type, config_schema, is_active, created_at, updated_at) VALUES ('c1b77f84-ab15-4b57-a129-305ccb7faf4f', '7617925b-3936-4ea8-9b40-a3ecea6100b0', 'new_commit_push', 'Nouveau Push sur une branche', 'D√©clench√© quand un ou plusieurs commits sont pouss√©s sur une branche sp√©cifique', 'github.push', '{"type": "object", "required": ["repository", "branch"], "properties": {"branch": {"type": "string", "default": "main", "description": "Branche √† surveiller (ex: main)"}, "repository": {"type": "string", "description": "Nom du d√©p√¥t (ex: user/repo)"}}}', true, '2026-01-12 09:55:32.795204+00', '2026-01-12 09:55:32.795204+00');
INSERT INTO public.actions (id, service_id, name, display_name, description, event_type, config_schema, is_active, created_at, updated_at) VALUES ('fb7a1eb7-8b0c-4e44-865a-ba0b3afe9bb9', '4a2ea9ec-3495-4e3c-ae67-01e0a486f3d1', 'open_meteo', 'Open-Meteo ‚Äî Condition m√©t√©o', 'D√©clench√© selon une condition m√©t√©o pour une latitude/longitude donn√©e (ex: temp_below, temp_above).', 'open_meteo.current', '{"type": "object", "required": ["latitude", "longitude"], "properties": {"latitude": {"type": "number", "description": "Latitude (ex: 48.8566)"}, "condition": {"type": "object", "properties": {"type": {"enum": ["temp_above", "temp_below", "precipitation_above"], "type": "string", "description": "Type de condition"}, "threshold": {"type": "number", "description": "Seuil num√©rique utilis√© pour la comparaison (ex: temp√©rature en ¬∞C)"}}, "description": "Condition qui d√©clenche l''action"}, "longitude": {"type": "number", "description": "Longitude (ex: 2.3522)"}}}', true, '2026-01-12 21:06:36.014876+00', '2026-01-12 21:06:36.014876+00');
INSERT INTO public.actions (id, service_id, name, display_name, description, event_type, config_schema, is_active, created_at, updated_at) VALUES ('c1e62021-c382-4ec0-899a-421d90ef33d1', '7617925b-3936-4ea8-9b40-a3ecea6100b0', 'new_pull_request', 'Nouvelle Pull Request', 'D√©clench√© quand une nouvelle pull request est ouverte dans le d√©p√¥t sp√©cifi√©.', 'github.pull_request.opened', '{"type": "object", "required": ["repository"], "properties": {"author": {"type": "string", "description": "Filtrer par auteur de la PR (optionnel)"}, "labels": {"type": "array", "items": {"type": "string"}, "description": "Filtrer par labels (optionnel). Si fourni, la PR doit contenir au moins un de ces labels."}, "repository": {"type": "string", "description": "owner/repo, ex: epitech/Area"}, "base_branch": {"type": "string", "description": "Filtrer par branche cible (ex: main). Si omis, toutes les branches sont accept√©es."}}}', true, '2026-01-12 21:22:50.586089+00', '2026-01-12 21:22:50.586089+00');
INSERT INTO public.actions (id, service_id, name, display_name, description, event_type, config_schema, is_active, created_at, updated_at) VALUES ('ed27cb28-de3b-4320-be1a-b9970b57e14e', '73f16769-c324-42f3-bd2b-5abf6d4b16d3', 'new_outlook_email', 'Nouvel Email Outlook', 'D√©clench√© quand un nouvel email est re√ßu dans la bo√Æte de r√©ception Outlook.', 'outlook.email.received', '{"type": "object", "properties": {"from": {"type": "string", "description": "Exp√©diteur de l''email"}, "subject_contains": {"type": "string", "description": "Filtrer par sujet de l''email (ex: Urgent). Si omis, tous les sujets sont accept√©s."}}}', true, '2026-01-13 17:09:54.993611+00', '2026-01-13 17:09:54.993611+00');
INSERT INTO public.actions (id, service_id, name, display_name, description, event_type, config_schema, is_active, created_at, updated_at) VALUES ('1f5fce54-062c-4210-8633-5b8beee8655e', '8b62dd1a-0fc9-4b42-8ea6-81be7813b8eb', 'new_discord_message', 'Nouveau message dans un salon', 'Se d√©clenche lorsqu''un nouveau message est post√© dans un salon sp√©cifique.', 'discord.message.receive', '{"type": "object", "required": ["channel_id"], "properties": {"author_id": {"type": "string", "description": "Filtrer par ID d''utilisateur (optionnel)"}, "channel_id": {"type": "string", "description": "ID du salon Discord √† surveiller (Mode d√©veloppeur requis)"}}}', true, '2026-01-13 21:25:09.875933+00', '2026-01-13 21:25:09.875933+00');
INSERT INTO public.actions (id, service_id, name, display_name, description, event_type, config_schema, is_active, created_at, updated_at) VALUES ('53fdfecd-88b8-42dc-afed-e7f8ca45851d', '6362befd-c38e-4946-88bf-ce997ed3110e', 'new_email', 'Nouvel email Gmail', 'D√©clench√© quand un nouvel email arrive', 'email.received', '{"type": "object", "properties": {"from": {"type": "string", "description": "Filtrer par exp√©diteur (optionnel)"}, "subject_contains": {"type": "string", "description": "Mots-cl√©s dans le sujet (optionnel)"}}}', true, '2025-12-04 19:44:37.35058+00', '2026-01-16 16:48:14.67301+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('b6572f1d-7c2a-4ccd-b2bf-ffc6960a0ef6', '48794fc2-7a2f-43f6-a86d-74a838977969', 'send_webhook_message', 'Envoyer un message Discord', 'Envoie un message via un webhook Discord (pas de connexion requise)', 'webhook.send', '{"type": "object", "required": ["webhook_url"], "properties": {"webhook_url": {"type": "string", "format": "uri", "description": "URL du webhook Discord"}, "message_template": {"type": "string", "default": "üìß Nouvel email de **{{from}}**\\nSujet: {{subject}}", "description": "Template du message. Variables: {{from}}, {{subject}}, {{body}}"}}}', true, '2025-12-03 15:15:53.693141+00', '2025-12-03 15:15:53.693141+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('9d15409d-4b2c-4bc1-aa6a-eba193c229b9', '6362befd-c38e-4946-88bf-ce997ed3110e', 'send_email', 'Envoyer un email', 'Envoie un email via Gmail (connexion requise)', 'gmail.send', '{"type": "object", "required": ["to"], "properties": {"to": {"type": "string", "description": "Adresse email du destinataire"}, "subject": {"type": "string", "default": "Notification AREA", "description": "Sujet de l''email"}, "body_template": {"type": "string", "default": "üìß Nouvel √©v√©nement AREA\\nSujet: {{subject}}", "description": "Template du corps de l''email. Variables: {{from}}, {{subject}}, {{body}}"}}}', true, '2026-01-12 12:07:30.355881+00', '2026-01-12 12:07:30.355881+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('eacc3c37-3ce9-403e-b387-6eb94e792064', '7617925b-3936-4ea8-9b40-a3ecea6100b0', 'create_github_issue', 'Cr√©er une issue GitHub', 'Cr√©e une issue dans un d√©p√¥t GitHub (utilise le token GitHub connect√© de l''utilisateur).', 'github.create_issue', '{"type": "object", "required": ["repository"], "properties": {"repository": {"type": "string", "description": "owner/repo"}, "body_template": {"type": "string", "description": "Template du corps (variables {{var}})"}, "title_template": {"type": "string", "description": "Template du titre (variables {{var}})"}}}', true, '2026-01-12 16:00:16.733395+00', '2026-01-12 16:00:16.733395+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('0a18f4aa-1679-4b9f-9f3c-2372a368358d', '7617925b-3936-4ea8-9b40-a3ecea6100b0', 'create_github_file', 'Cr√©er / Mettre √† jour un fichier GitHub', 'Cr√©e ou met √† jour un fichier dans un d√©p√¥t GitHub en utilisant le token GitHub connect√© de l''utilisateur. Utilise l''API Contents (PUT /repos/:owner/:repo/contents/:path).', 'github.create_or_update_file', '{"type": "object", "required": ["repository", "file_path"], "properties": {"branch": {"type": "string", "description": "Branche cible (optionnel). Si omis, la branche par d√©faut du repo est utilis√©e."}, "file_path": {"type": "string", "description": "Chemin du fichier dans le repo, ex: notes/area-update.txt"}, "repository": {"type": "string", "description": "owner/repo, ex: epitech/Area"}, "content_template": {"type": "string", "description": "Template du contenu du fichier (variables {{var}}). Par d√©faut: {{data}}."}, "commit_message_template": {"type": "string", "description": "Message de commit (variables {{var}}). Par d√©faut: ''AREA: update {{file_path}}''."}}}', true, '2026-01-12 17:08:17.820762+00', '2026-01-12 17:08:17.820762+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('c1d8889d-7fa0-44f0-9380-bf7e2f6b8255', '73f16769-c324-42f3-bd2b-5abf6d4b16d3', 'send_outlook_email', 'Envoyer un Email', 'Envoie un email via Outlook.', 'outlook.email.send', '{"type": "object", "required": ["to"], "properties": {"to": {"type": "string", "description": "Destinataire de l''email"}, "body": {"type": "string", "description": "Corps de l''email"}, "subject": {"type": "string", "description": "Sujet de l''email"}}}', true, '2026-01-13 17:28:30.58985+00', '2026-01-13 17:28:30.58985+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('e1d504bc-fb8c-4b57-97d5-8e228afa6cbf', '8b62dd1a-0fc9-4b42-8ea6-81be7813b8eb', 'send_discord_message', 'Envoyer un message', 'Envoie un message dans un salon ou en DM via l''API Discord.', 'discord.message.send', '{"type": "object", "properties": {"channel_id": {"type": "string", "description": "ID du salon. Si vide, envoie un message priv√© √† l''utilisateur."}, "message_template": {"type": "string", "description": "Contenu du message (supporte les variables {{data}})"}}}', true, '2026-01-13 21:25:09.875933+00', '2026-01-13 21:25:09.875933+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('a3a501be-6d6d-4d9b-8c28-afa60e272f6a', '12d701a1-6b1f-4e2f-b253-ae9dd601f524', 'send_slack_message', 'Envoyer un message', 'Envoie un message dans un salon Slack ou en message priv√©.', 'slack.message.send', '{"type": "object", "required": ["webhook_url"], "properties": {"webhook_url": {"type": "string", "description": "URL du webhook Slack."}, "message_template": {"type": "string", "description": "Contenu du message (supporte les variables {{data}})"}}}', true, '2026-01-14 13:29:21.466492+00', '2026-01-14 13:29:21.466492+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('b0bf129f-33ae-4bf3-bcad-f9d93d1e049a', '3efd83de-6bb9-40e7-9ab6-5487641b33bf', 'send_teams_message', 'Envoyer un message', 'Envoie un message dans un salon Teams', 'teams.message.send', '{"type": "object", "required": ["webhook_url"], "properties": {"webhook_url": {"type": "string", "description": "URL du webhook Teams."}, "message_template": {"type": "string", "description": "Contenu du message (supporte les variables {{data}})"}}}', true, '2026-01-14 15:05:15.234052+00', '2026-01-14 15:05:15.234052+00');
INSERT INTO public.reactions (id, service_id, name, display_name, description, action_type, config_schema, is_active, created_at, updated_at) VALUES ('2a33092f-8d92-4746-8fcd-7076a6ed6997', '716ee549-1fc7-4505-8b6c-3e8f5a2c09f5', 'send_pipedream_message', 'Envoyer un message', 'Envoie un message via un workflow PipeDream.', 'pipedream.message.send', '{"type": "object", "required": ["webhook_url"], "properties": {"webhook_url": {"type": "string", "description": "URL du webhook PipeDream."}, "message_template": {"type": "string", "description": "Contenu du message (supporte les variables {{data}})"}}}', true, '2026-01-14 16:13:29.038079+00', '2026-01-14 16:13:29.038079+00');
